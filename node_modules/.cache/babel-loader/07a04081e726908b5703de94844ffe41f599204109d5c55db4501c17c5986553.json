{"ast":null,"code":"export const calculateDeductions = (base, totalEarning, preHra, config) => {\n  if (!config) {\n    return {\n      employeePF: 0,\n      employeeESI: 0,\n      companyPF: 0,\n      companyESI: 0,\n      pension: 0,\n      companyPay: 0\n    };\n  }\n\n  // Check thresholds for PF and ESI\n  const isPFApplicable = base >= config.pfThresholdMin && base <= config.pfThresholdMax;\n  const isESIApplicable = totalEarning >= config.esiThresholdMin && totalEarning <= config.esiThresholdMax;\n  const employeePF = isPFApplicable ? Number(base * (config.employeePF / 100)).toFixed(2) : 0;\n  const totalEsiBase = Number(base + preHra).toFixed(2);\n  const employeeESI = isESIApplicable ? Number(totalEsiBase * (config.employeeESI / 100)).toFixed(2) : 0;\n  const companyPF = isPFApplicable ? Number(base * (config.companyPF / 100)).toFixed(2) : 0;\n  const companyESI = isESIApplicable ? Number(totalEsiBase * (config.companyESI / 100)).toFixed(2) : 0;\n  const pension = isPFApplicable ? Number(base * (config.companyPension / 100)).toFixed(2) : 0;\n  const companyPay = companyPF + companyESI;\n  return {\n    employeePF,\n    employeeESI,\n    companyPF,\n    companyESI,\n    pension,\n    companyPay\n  };\n};\nexport const calculateNetPayable = (employee, salaryConfig) => {\n  const {\n    base,\n    hra,\n    conveyance,\n    attendanceDays,\n    totalDays\n  } = employee;\n  const preBasic = base * attendanceDays / totalDays;\n  const preHra = hra * attendanceDays / totalDays;\n  const preConv = conveyance * attendanceDays / totalDays;\n  const totalEarning = preBasic + preHra + preConv;\n  const {\n    employeePF,\n    employeeESI\n  } = calculateDeductions(preBasic, totalEarning, preHra, salaryConfig);\n  const totalDeduction = employeePF + employeeESI;\n  const netPayable = totalEarning - totalDeduction;\n  return Number(netPayable).toFixed(2);\n};\nexport const calculateCTC = (employee, salaryConfig) => {\n  const {\n    base,\n    hra,\n    conveyance,\n    attendanceDays,\n    totalDays\n  } = employee;\n  const preBasic = base * attendanceDays / totalDays;\n  const preHra = hra * attendanceDays / totalDays;\n  const preConv = conveyance * attendanceDays / totalDays;\n  const totalEarning = preBasic + preHra + preConv;\n  const {\n    employeePF,\n    employeeESI,\n    pension,\n    companyPay\n  } = calculateDeductions(preBasic, totalEarning, preHra, salaryConfig);\n  const netPayable = totalEarning - (employeePF + employeeESI);\n  const ctc = netPayable + companyPay + (employeePF + employeeESI) + pension;\n  return Math.round(ctc);\n};","map":{"version":3,"names":["calculateDeductions","base","totalEarning","preHra","config","employeePF","employeeESI","companyPF","companyESI","pension","companyPay","isPFApplicable","pfThresholdMin","pfThresholdMax","isESIApplicable","esiThresholdMin","esiThresholdMax","Number","toFixed","totalEsiBase","companyPension","calculateNetPayable","employee","salaryConfig","hra","conveyance","attendanceDays","totalDays","preBasic","preConv","totalDeduction","netPayable","calculateCTC","ctc","Math","round"],"sources":["C:/Users/pc/Desktop/HR/hr-frontend/src/utils/calculations.js"],"sourcesContent":["export const calculateDeductions = (base, totalEarning, preHra, config) => {\r\n  if (!config) {\r\n    return {\r\n      employeePF: 0,\r\n      employeeESI: 0,\r\n      companyPF: 0,\r\n      companyESI: 0,\r\n      pension: 0,\r\n      companyPay: 0,\r\n    };\r\n  }\r\n\r\n  // Check thresholds for PF and ESI\r\n  const isPFApplicable = base >= config.pfThresholdMin && base <= config.pfThresholdMax;\r\n  const isESIApplicable = totalEarning >= config.esiThresholdMin && totalEarning <= config.esiThresholdMax;\r\n\r\n  const employeePF = isPFApplicable ?Number( base * (config.employeePF / 100)).toFixed(2) : 0;\r\n  const totalEsiBase = Number(base + preHra).toFixed(2);\r\n  const employeeESI = isESIApplicable ? Number(totalEsiBase * (config.employeeESI / 100)).toFixed(2) : 0;\r\n\r\n  const companyPF = isPFApplicable ?Number( base * (config.companyPF / 100)).toFixed(2) : 0;\r\n  const companyESI = isESIApplicable ?Number( totalEsiBase * (config.companyESI / 100)).toFixed(2) : 0;\r\n  const pension = isPFApplicable ? Number(base * (config.companyPension / 100)).toFixed(2) : 0;\r\n  const companyPay = companyPF + companyESI;\r\n\r\n  return {\r\n    employeePF,\r\n    employeeESI,\r\n    companyPF,\r\n    companyESI,\r\n    pension,\r\n    companyPay,\r\n  };\r\n};\r\n\r\nexport const calculateNetPayable = (employee, salaryConfig) => {\r\n  const { base, hra, conveyance, attendanceDays, totalDays } = employee;\r\n\r\n  const preBasic = (base * attendanceDays) / totalDays;\r\n  const preHra = (hra * attendanceDays) / totalDays;\r\n  const preConv = (conveyance * attendanceDays) / totalDays;\r\n  const totalEarning = preBasic + preHra + preConv;\r\n\r\n  const { employeePF, employeeESI } = calculateDeductions(\r\n    preBasic,\r\n    totalEarning,\r\n    preHra,\r\n    salaryConfig\r\n  );\r\n  const totalDeduction = employeePF + employeeESI;\r\n\r\n  const netPayable = totalEarning - totalDeduction;\r\n  return Number(netPayable).toFixed(2);\r\n};\r\n\r\nexport const calculateCTC = (employee, salaryConfig) => {\r\n  const { base, hra, conveyance, attendanceDays, totalDays } = employee;\r\n\r\n  const preBasic = (base * attendanceDays) / totalDays;\r\n  const preHra = (hra * attendanceDays) / totalDays;\r\n  const preConv = (conveyance * attendanceDays) / totalDays;\r\n  const totalEarning = preBasic + preHra + preConv;\r\n\r\n  const { employeePF, employeeESI, pension, companyPay } = calculateDeductions(\r\n    preBasic,\r\n    totalEarning,\r\n    preHra,\r\n    salaryConfig\r\n  );\r\n\r\n  const netPayable = totalEarning - (employeePF + employeeESI);\r\n\r\n  const ctc = netPayable + companyPay + (employeePF + employeeESI) + pension;\r\n\r\n  return Math.round(ctc);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}